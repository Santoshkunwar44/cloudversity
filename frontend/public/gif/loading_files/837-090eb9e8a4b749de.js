"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{7756:function(e,n,t){t.d(n,{p:function(){return r}});t(29901);var a=t(61250),r=function(e){var n=e.small;return void 0!==n&&n?(0,a.jsx)("svg",{width:"32",height:"29",viewBox:"0 0 32 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M29.4449 0C20.5349 0 17.2461 6.37426 14.5967 11.4968L12.8645 14.7707C10.0552 20.2036 7.95873 23.5038 2.55507 23.5038C2.21944 23.5034 1.88705 23.5695 1.5769 23.6982C1.26675 23.827 0.984928 24.0158 0.747598 24.2539C0.510269 24.4921 0.322077 24.7749 0.193794 25.0861C0.065512 25.3973 -0.000343424 25.7309 1.34674e-06 26.0677C-0.000343424 26.4045 0.065512 26.738 0.193794 27.0492C0.322077 27.3605 0.510269 27.6432 0.747598 27.8814C0.984928 28.1195 1.26675 28.3084 1.5769 28.4371C1.88705 28.5658 2.21944 28.6319 2.55507 28.6316C11.4651 28.6316 14.7513 22.2573 17.4033 17.1348L19.1329 13.8609C21.9448 8.42801 24.0413 5.12781 29.4449 5.12781C30.1226 5.12781 30.7725 4.85769 31.2516 4.37686C31.7308 3.89604 32 3.2439 32 2.56391C32 1.88392 31.7308 1.23178 31.2516 0.750952C30.7725 0.270126 30.1226 0 29.4449 0Z",fill:"#DAE1E7"})}):(0,a.jsxs)("svg",{width:"74",height:"84",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5 53.533l-.17-4.325-6.628 3.815.422-7.32-.897.224C20.37 57.661 14.285 63.511 9.943 63.185c-2.783-.208-5.206 1.91-5.412 4.73-.204 2.822 1.885 5.28 4.667 5.489 8.551.64 16.746-5.948 25.302-19.87zM29.02 39.543l2.76-.352-1.288 7.252 7.064-3.02-.153 1.927a152.31 152.31 0 005.294-6.682c10.698-14.26 19.19-20.644 23.89-19.112 2.654.86 5.507-.62 6.371-3.316v.002c.865-2.695-.586-5.575-3.24-6.44-10.023-3.262-21.313 4.37-35.06 22.692a136.35 136.35 0 01-5.637 7.05z",fill:"#DAE1E7"}),(0,a.jsx)("path",{d:"M23.536 40.332l-6.792-5.97c-.448-.395-1.233-.382-1.619.103-.386.486-.378 1.195.104 1.619l6.793 5.97c.448.394 1.233.381 1.619-.104.386-.485.378-1.194-.105-1.618zM25.877 37.821l-.42-5.252c-.04-.511-.633-.914-1.123-.812-.556.117-.855.576-.813 1.123.14 1.748.278 3.497.42 5.251.04.512.632.915 1.123.813.555-.117.854-.576.813-1.123zM22.596 44.933l-5.28-.811c-.514-.08-1.09.335-1.14.776-.055.5.304.858.853.944 1.757.27 3.515.541 5.28.811.514.08 1.09-.336 1.14-.777.054-.5-.304-.857-.853-.943zM40.515 55.434c-.63-1.068-1.259-2.135-1.892-3.205-.183-.313-.684-.385-.964-.169-.316.246-.364.63-.169.965l1.892 3.204c.183.313.684.386.964.169.316-.246.364-.63.169-.965zM40.786 49.91c1.742.2 3.485.402 5.233.602.51.059 1.02-.444 1.015-.945-.008-.568-.4-.95-.945-1.014-1.743-.201-3.485-.403-5.234-.602-.51-.06-1.02.444-1.014.945.008.567.4.95.945 1.014z",fill:"#DAE1E7"})]})}},99067:function(e,n,t){t.d(n,{v:function(){return c}});var a=t(98951),r=t(51276),s=t(35863),o=t(40467),i=t(29901),l=t(61250),c=function(e){var n=e.date,t=(0,i.useState)(""),c=t[0],u=t[1],d=(0,i.useCallback)((function(){var e=new Date(n);(0,a.Z)(e)?u("today"):(0,r.Z)(e)?u("yesterday"):(0,s.Z)(e)?u("".concat((0,o.Z)(e,"d MMM"))):u("".concat((0,o.Z)(e,"yy/M/d")))}),[n]);return(0,i.useEffect)((function(){d()}),[d]),(0,l.jsx)("span",{children:c})}},39229:function(e,n,t){t.d(n,{Z:function(){return r}});t(29901);var a=t(61250),r=function(e){var n=e.additionalClasses,t=e.children;return(0,a.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(n),children:t})}},48645:function(e,n,t){t.d(n,{K:function(){return E}});var a=t(55312),r=t(24642),s=t.n(r),o=t(83849),i=t.n(o),l=t(73378),c=t(29901),u=t(94124),d=t(7756),h=t(13645),f=t(84815),m=t(18732),v=t(8893),p=t(64410),b=t(20343),C=t(8809),x=t(61250),w=(0,l.default)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(9536).then(t.bind(t,29536)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[29536]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/modals/rename-animation-modal"]}}),j=(0,l.default)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,64410)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[64410]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/menus/animation-status-selector-v-2"]}}),k=(0,l.default)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4845),t.e(5471),t.e(9837),t.e(4868),t.e(1438),t.e(5290),t.e(6220),t.e(6660),t.e(4431),t.e(2113),t.e(7971),t.e(4430),t.e(9465),t.e(6101),t.e(5632),t.e(1530),t.e(6211)]).then(t.bind(t,12276)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[12276]},modules:["../components/ui/cards/animation-card.tsx -> ./file-card-metadata"]}}),g=function(e){var n=e.isCollapsed,t=void 0!==n&&n,a=e.status,r=u.W.find((function(e){return e.value===a}));return a&&r?t?(0,x.jsx)("div",{className:"px-3 py-1 mt-1",children:r.icon}):(0,x.jsx)("div",{className:"px-1 text-gray-600 bg-gray-100 rounded-md",children:(0,x.jsxs)("div",{className:"flex items-center px-2 py-1 text-sm",children:[r.icon,(0,x.jsx)("p",{children:r.label})]})}):(0,x.jsx)(x.Fragment,{})},y=function(e){var n=e.hasFullAccess,t=e.isHovered,a=e.isInSelectionMode,r=e.isSelectable,s=e.isSelected,o=e.onCheckboxChange;return(0,x.jsx)("div",{className:"absolute right-0 z-20 top-2",children:(0,x.jsx)(m.Z,{variant:"caption-1",tag:"div",children:(t&&r||s||a)&&n&&(0,x.jsx)(v.X,{additionalClasses:i()({"-mr-0.5 -mt-0.5":s}),label:"check-card",checked:s,onChange:o})})})},S=function(e){var n=e.animation,t=e.backgroundColor,a=e.hasFullAccess,r=e.hasPlayerError,s=e.hasThumbnailError,o=e.isHovered,l=e.isInSelectionMode,u=e.isSelectable,v=e.isSelected,b=e.onCheckboxChange,w=e.onOverlayClick,k=e.onOverlayKeydown,S=e.onPlayerError,E=e.onThumbnailError,M=e.playerRef,N=e.playerRefCallback,A=e.showStatus,Z=void 0===A||A,I=e.status,z=e.thumbnailSrc,D=e.title,R=e.url,T=M.current,O=(0,C.sZ)(n.project.workspaceId),F=(0,c.useState)(!1),P=F[0],_=F[1];(0,c.useEffect)((function(){return T&&T.addEventListener("error",S),function(){T&&T.removeEventListener("error",S)}}),[T,M,S,o]);return(0,x.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] select-none relative z-0 p-2",style:{backgroundColor:null!=t?t:"none"},children:[Z&&(0,x.jsx)(j,{source:p.AnimationStatusSource.ANIMATION_CARD_DROPDOWN,featureService:O,animationId:n.id,animationStatus:n.status,projectId:n.project.id,workspaceId:n.project.workspaceId,isSubMenu:!0,handleStatusSelectorChange:function(e){_(e)},dropdownOffset:8,customTrigger:(0,x.jsx)("div",{className:"absolute left-0 z-20 pl-2 cursor-pointer top-2",children:(0,x.jsx)(m.Z,{tag:"div",variant:"caption-1",children:o||P?(0,x.jsx)(g,{status:I}):(0,x.jsx)(g,{status:I,isCollapsed:!0})})})}),(0,x.jsx)(y,{hasFullAccess:a,isInSelectionMode:l,isSelectable:u,isSelected:v,onCheckboxChange:b,isHovered:o}),(0,x.jsx)("div",{onKeyDown:k,onClick:w,className:"absolute inset-0 z-10 cursor-pointer"}),(0,x.jsx)("div",{className:i()("mx-auto h-full",{hidden:!o&&z}),children:R&&!r?(0,x.jsx)(h.V,{autoplay:!1,loop:!0,src:R,playerRef:N}):(0,x.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,x.jsx)(d.p,{})})}),(0,x.jsx)("div",{className:i()("mx-auto h-full",{hidden:o||!z}),children:(0,x.jsx)(f.y,{src:z,onError:E,alt:D,hasError:s})})]})},E=function(e){var n=e.animation,t=e.backgroundColor,a=void 0===t?null:t,r=e.date,s=e.disableMenu,o=void 0!==s&&s,l=e.onClick,u=e.onSelectionChange,d=e.project,h=e.scopes,f=e.selectable,m=void 0!==f&&f,v=e.selected,p=void 0!==v&&v,C=e.selectionMode,j=void 0!==C&&C,g=e.showAddToCollection,y=e.showStatus,E=void 0===y||y,M=e.showUpdatedUser,N=void 0===M||M,A=e.status,Z=e.thumbnail,I=e.title,z=e.upgradeRequired,D=e.url,R=e.username,T=(0,c.useState)(!1),O=T[0],F=T[1],P=(0,b.a)({scopes:h||[]}).canFullAccess,_=(0,c.useState)(!1),L=_[0],H=_[1],K=(0,c.useState)(!1),U=K[0],G=K[1],B=(0,c.useState)(!1),W=B[0],q=B[1],V=(0,c.useRef)(null),X=(0,c.useCallback)((function(e){e&&(V.current=e)}),[]),J=(0,c.useCallback)((function(){var e;null===(e=V.current)||void 0===e||e.play(),F(!0)}),[V,F]),Q=(0,c.useCallback)((function(){var e;null===(e=V.current)||void 0===e||e.pause(),F(!1)}),[V,F]),Y=(0,c.useCallback)((function(){u&&u()}),[u]),$=(0,c.useCallback)((function(){H(!1)}),[]),ee=(0,c.useCallback)((function(){j&&u?u():l&&l()}),[u,l,j]),ne=(0,c.useCallback)((function(e){"Space"===e.key&&ee()}),[ee]),te=(0,c.useCallback)((function(){G(!0)}),[]),ae=(0,c.useCallback)((function(){q(!0)}),[]),re=(0,c.useCallback)((function(){P()&&H(!0)}),[P]),se=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,a=(0,c.useState)(0),r=a[0],s=a[1];return(0,c.useEffect)((function(){var a=setTimeout((function(){1===r&&e(),s(0)}),t);return 2===r&&n(),function(){return clearTimeout(a)}}),[r]),function(){return s((function(e){return e+1}))}}(ee,re);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:i()("relative w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group",{"selected-card":p,"opacity-30":z}),onMouseEnter:J,onMouseLeave:Q,children:(0,x.jsxs)("div",{className:"animation",children:[(0,x.jsx)(S,{animation:n,backgroundColor:a,hasFullAccess:P(),isHovered:O,hasThumbnailError:U,hasPlayerError:W,isSelectable:m,isSelected:p,isInSelectionMode:j,showStatus:E,status:A,title:I,thumbnailSrc:Z,url:D,playerRefCallback:X,playerRef:V,onCheckboxChange:Y,onOverlayClick:ee,onOverlayKeydown:ne,onPlayerError:ae,onThumbnailError:te}),(0,x.jsx)(k,{animation:n,isMenuDisabled:o,onTitleDoubleClick:se,projectName:d,showAddToCollection:Boolean(g),showUpdatedUser:N,title:I,updatedDate:r,username:R,showActionsMenu:O})]})}),(0,x.jsx)(w,{show:L,animationId:n.id,animationName:n.name,close:$})]})}}}]);