"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{39607:function(e,n,t){t.d(n,{T:function(){return f}});var r=t(83849),o=t.n(r),a=t(29901),c=t(71755),i=t(92808),u=t(48321),s=t(61250),l=function(e,n){return"@".concat(n)},f=function(e){var n=e.defaultValue,t=e.inputRef,r=e.onChange,f=e.onFocus,d=e.markup,p=e.placeholder,m=e.rows,v=void 0===m?1:m,x=e.users,g=void 0===x?[]:x,h=e.loginToMention,b=(0,u.a)().isAuthenticated,y=(0,a.useMemo)((function(){return h&&!b}),[h,b]),j=(0,a.useMemo)((function(){return y?[{id:"",display:"",avatarUrl:"",email:""}]:g.map((function(e){return{id:e.id,display:e.name,avatarUrl:e.avatarUrl,email:e.email}}))}),[g,y]),w=(0,a.useCallback)((function(e,n,t,r,a){var c,u=null!==(c=e.display)&&void 0!==c?c:"";return(0,s.jsx)("div",{className:o()("flex flex-row items-center p-2 -m-2 rounded-lg",{"bg-gray-50":!y&&a}),children:y?(0,s.jsx)("div",{className:"flex justify-start items-center w-full h-6 -my-3 text-gray-600",children:"Log in to mention"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8 mr-2",children:(0,s.jsx)(i.q,{name:u,avatarOnly:!0,large:!0})}),(0,s.jsxs)("div",{className:"flex flex-col max-w-60 overflow-hidden",children:[(0,s.jsx)("div",{className:"text-sm font-lf-bold truncate text-gray-600",children:t}),(0,s.jsx)("div",{className:"text-gray-400 text-[11px] truncate",children:e.email})]})]})})}),[y]),O=(0,a.useCallback)((function(){y&&window.location.assign("".concat("https://accounts.lottiefiles.com","/login?return_to=").concat(encodeURIComponent(window.location.href)))}),[y]);return(0,s.jsx)("div",{className:"w-full text-sm lf-font-base",children:(0,s.jsx)(c.r,{inputRef:t,value:d,defaultValue:n,placeholder:p,rows:v,onChange:r,onFocus:f,className:"comments-input",allowSpaceInQuery:!0,children:(0,s.jsx)(c.p,{trigger:"@",markup:y?"@__id__":"@{user:__display__:__id__}",displayTransform:l,data:j,appendSpaceOnAdd:!0,renderSuggestion:w,onAdd:O})})})}},2629:function(e,n,t){t.d(n,{a:function(){return i}});t(29901);var r=t(92808),o=t(18732),a=t(61463),c=t(61250),i=function(e){var n=e.createdAt,t=e.name,i=e.src;return(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"w-8 h-8 mr-2",children:(0,c.jsx)(r.q,{src:i,name:t,avatarOnly:!0})}),(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,c.jsxs)(o.Z,{className:"text-sm text-gray-900 font-lf-semi-bold",children:[t," "]}),(0,c.jsx)(o.Z,{variant:"caption-2",color:"gray",children:(0,c.jsx)(a.b,{date:n})})]})]})}},63907:function(e,n,t){t.d(n,{F:function(){return s}});var r=t(55312),o=t(24642),a=t.n(o),c=t(29901),i=t(63862),u=t(61250),s=function(e){var n=e.comment,t=e.onCancel,o=e.onDelete,s=(0,c.useCallback)((function(e){t(),e.stopPropagation()}),[t]),l=(0,c.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(n.id),t.stopPropagation();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[n.id,o]);return(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full space-y-2",children:[(0,u.jsx)("p",{className:"w-full text-sm text-center text-gray-600",children:"Delete this comment?"}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[(0,u.jsx)(i.z,{text:"Cancel",variant:"secondary",onClick:s}),(0,u.jsx)(i.z,{text:"Delete",color:"red",onClick:l})]})]})}},683:function(e,n,t){t.d(n,{z:function(){return i}});var r=t(29901),o=t(2629),a=t(22444),c=t(61250),i=function(e){var n,t,i,u,s=e.comment,l=e.mentionables,f=e.onCancel,d=e.onEdit,p=(0,r.useCallback)((function(e){var n=e.body;d(s.id,n)}),[s,d]);return(0,c.jsxs)("div",{className:"flex flex-col px-4 py-2",children:[s.nodeId&&(0,c.jsx)("div",{className:"flex",children:(0,c.jsx)("p",{className:"text-sm text-gray-400",children:s.nodeId})}),(0,c.jsx)(o.a,{src:null===(n=s.user)||void 0===n?void 0:n.avatarUrl,name:null!==(t=null!==(i=null===(u=s.user)||void 0===u?void 0:u.name)&&void 0!==i?i:s.guestName)&&void 0!==t?t:"Anonymous",createdAt:new Date(s.createdAt)}),(0,c.jsx)("div",{className:"space-y-2",children:(0,c.jsx)(a._,{loginToMention:!0,placeholder:"Edit your comment…",defaultValue:s.body,postButtonText:"Update",onCancel:f,onPost:p,mentionables:l})})]})}},22444:function(e,n,t){t.d(n,{_:function(){return l}});var r=t(83849),o=t.n(r),a=t(29901),c=t(39607),i=t(63862),u=t(88250),s=t(61250),l=function(e){var n=e.borderless,t=e.coordinates,r=e.defaultValue,l=void 0===r?"":r,f=e.frame,d=e.loginToMention,p=e.mentionables,m=e.onCancel,v=e.onPost,x=e.placeholder,g=void 0===x?"Add a comment. Use @ to mention.":x,h=e.postButtonText,b=void 0===h?"Comment":h,y=e.rows,j=void 0===y?1:y,w=(0,a.useRef)(null),O="number"==typeof f,C=(0,a.useState)(!1),k=C[0],N=C[1],P=(0,a.useRef)(null),D=(0,a.useState)(l||""),E=D[0],_=D[1];(0,a.useEffect)((function(){var e;null===(e=w.current)||void 0===e||e.focus(),N(!0)}),[w]),(0,u.Z)(w,(function(){k&&N(!1)}));var F=(0,a.useCallback)((function(){N(!0)}),[]),S=(0,a.useCallback)((function(e){w.current&&0!==E.trim().length&&(v({body:E,frame:f,coordinates:t}),w.current.value=""),e.stopPropagation(),_("")}),[v,f,E,t]),I=(0,a.useCallback)((function(e){w.current&&(w.current.value=""),e.stopPropagation(),null==m||m()}),[m]),R=(0,a.useCallback)((function(e,n){_(n)}),[]);return(0,s.jsx)("div",{className:"flex",ref:P,children:(0,s.jsx)("div",{className:o()({"flex w-full":!0}),children:(0,s.jsxs)("div",{className:"flex flex-col w-full space-y-1",children:[(0,s.jsxs)("div",{className:o()({"relative flex p-1 pb-0 items-center justify-center rounded-md bg-gray-50":!0,"border border-teal-200":!n&&k,"border border-gray-300":!n&&!k}),children:[O&&(0,s.jsxs)("span",{className:o()({"absolute flex items-center z-10 text-gray-600 bg-teal-200 text-xs px-1 rounded-md":!0,"left-1.5 top-[5px]":!n,"left-1 top-[6px]":n}),children:["#",f]}),(0,s.jsx)("div",{className:o()({"w-full relative flex items-center":!0,"indent-8":O&&1===f.toString().length,"indent-9":O&&2===f.toString().length,"indent-10":O&&f.toString().length>=3}),children:(0,s.jsx)(c.T,{loginToMention:d,inputRef:w,defaultValue:l,placeholder:g,rows:j,users:p,onChange:R,markup:E,onFocus:F})})]}),(0,s.jsx)("div",{className:"flex-grow"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-grow"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(i.z,{text:"Cancel",variant:"secondary",onClick:I}),(0,s.jsx)(i.z,{text:b||"Comment",onClick:S})]})]})]})})})}},89742:function(e,n,t){t.d(n,{j:function(){return f}});var r=t(55312),o=t(24642),a=t.n(o),c=t(29901),i=t(95618),u=t(74536),s=t(36886),l=t(61250),f=function(e){var n,t=e.commentId,o=e.container,f=e.currentUserId,d=e.isResolved,p=e.onDeleteClick,m=e.onEditClick,v=e.onResolve,x=e.onUnresolve,g=e.userId,h=(0,c.useState)(!1),b=h[0],y=h[1],j=function(){var e=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t),n.stopPropagation(),y(!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=(0,l.jsx)(i.h,{name:"meatball-menu",iconLighter:!0,hoverBackgroundClass:"hover:bg-gray-100",focusBackgroundClass:"focus:bg-gray-100",sizeClass:"h-8 w-8"}),O={label:"Resolve",icon:(0,l.jsx)(u.J,{name:"tick",color:"text-gray-500",marginRight:!0}),onClick:function(e){v(t),e.stopPropagation(),y(!0)}},C={label:"Open Discussion",icon:(0,l.jsx)(u.J,{name:"tick",color:"text-gray-500",marginRight:!0}),onClick:j},k=(0,c.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),m()}),[m]),N={label:"Edit",icon:(0,l.jsx)(u.J,{name:"pencil",color:"text-gray-500",marginRight:!0}),onClick:k},P={label:"Delete",icon:(0,l.jsx)(u.J,{name:"delete",marginRight:!0}),destructiveAction:!0,onClick:function(e){p(),e.stopPropagation(),y(!0)}};return n=d?g&&g===f?[[C,N,P]]:[[C]]:g&&g===f?[[O,N,P]]:[[O]],(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.h_,{forceClose:b,closeCallback:function(){return y(!1)},container:o,placement:"bottom-end",wrapperCssClasses:"absolute right-0 top-1",button:w,items:n,width:d?"w-44":"w-32"})})}},14364:function(e,n,t){t.d(n,{_:function(){return m}});var r=t(77916),o=t(51848),a=t(46255),c=t(29901),i=t(8372),u=t(61250),s=function(e){var n=e.frameNumber,t=e.onClick,r=(0,c.useCallback)((function(e){e.stopPropagation(),t&&t()}),[t]);return null==n?null:(0,u.jsx)(u.Fragment,{children:t?(0,u.jsx)("span",{className:"flex float-left bg-teal-200 px-2 rounded-md mr-2 font-small h-[20px]",children:(0,u.jsxs)("button",{type:"button",className:"text-xs text-teal-800 focus:outline-none",onClick:r,children:["#",n]})}):(0,u.jsxs)("span",{className:"px-1 mr-2 text-xs text-teal-800 bg-teal-200 rounded-md focus:outline-none",children:["#",n]})})},l=t(61566),f=["node"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=function(e){var n=e.body,t=e.frame,r=void 0!==t,d=(0,a.useRouter)(),m=d.pathname,v=d.push,x=d.query,g=(0,c.useCallback)((function(){x.frame="".concat(t),x.filter="keyframe-specific",v({pathname:m,query:x},void 0,{shallow:!0})}),[v,m,x,t]),h=(0,c.useMemo)((function(){return function(e){var n=e;(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(e){if(e.type===l.ow.User){var t=e.user,r=t.id,o=t.name,a=new RegExp("@{user:.+?:".concat(r,"}"),"gu");n=n.replace(a,"**@".concat(o,"**"))}}));var t=/@\{user:((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+?):[0-9a-f]{8}(?:\x2D[0-9a-f]{4}){3}\x2D[0-9a-f]{12}\}/g;return n=n.replace(t,"**@$1**")}(n)}),[n]);return(0,u.jsxs)("p",{className:"mt-2 break-words",children:[r?(0,u.jsx)(s,{frameNumber:t,onClick:g}):(0,u.jsx)(u.Fragment,{}),(0,u.jsx)("span",{className:"text-sm text-gray-600 font-lf-base",children:(0,u.jsx)(i.D,{components:{strong:function(e){e.node;var n=(0,o.Z)(e,f);return(0,u.jsx)("strong",p(p({},n),{},{className:"font-bold text-gray-600"}))}},className:"whitespace-pre-wrap",children:h})})]})}},78682:function(e,n,t){t.d(n,{U:function(){return v}});var r=t(29901),o=t(55312),a=t(24642),c=t.n(a),i=t(83849),u=t.n(i),s=t(73378),l=t(61250),f=(0,s.default)((0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7642),t.e(3434),t.e(6455)]).then(t.bind(t,56455)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[56455]},modules:["../components/page/animation/comment/reaction-counter.tsx -> ./emoji"]}}),d=function(e){var n=e.count,t=e.emoji,o=e.onClick,a=e.userHasReacted,c=void 0!==a&&a,i=(0,r.useCallback)((function(e){o(t,c),e.stopPropagation()}),[o,c,t]);return(0,l.jsx)("button",{type:"button",className:u()("flex items-center h-5 px-1 py-1 border border-opacity-0 hover:border-opacity-1 rounded-md text-gray-400 hover:text-gray-700",{"hover:border-gray-700 bg-gray-100":!c,"hover:border-teal-200 bg-teal-50":c}),onClick:i,children:(0,l.jsx)(r.Suspense,{fallback:null,children:(0,l.jsxs)("div",{className:"flex items-center space-x-1 cursor-pointer",children:[(0,l.jsx)(f,{id:t,size:"12px"}),(0,l.jsx)("p",{className:"text-xs",children:n})]})})},"reaction-counter-".concat(t))},p=(0,r.memo)(d),m=function(e){var n=e.reactions,t=void 0===n?[]:n,o=e.onReactionClick,a=e.currentUserId,c=(0,r.useMemo)((function(){var e=[];return null!=t&&t.length?(t.forEach((function(n){var t,r,o=e.find((function(e){return e.emoji===n.type}));o?(o.count+=1,o.userHasReacted=Boolean(o.userHasReacted)||(null===(t=n.user)||void 0===t?void 0:t.id)===a):(o={emoji:n.type,count:1,userHasReacted:(null===(r=n.user)||void 0===r?void 0:r.id)===a},e.push(o))}),[]),e):e}),[a,t]),i=(0,r.useMemo)((function(){return c.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)(p,{emoji:e.emoji,count:e.count,userHasReacted:e.userHasReacted,onClick:o})},"reaction-count-".concat(e.emoji))}))}),[c,o]);return c.length?(0,l.jsx)("ul",{className:"flex flex-row space-x-1",children:i}):null},v=(0,r.memo)(m)},18730:function(e,n,t){t.d(n,{j:function(){return h}});var r=t(55312),o=t(24642),a=t.n(o),c=t(83849),i=t.n(c),u=t(73378),s=t(29901),l=t(74536),f=t(35653),d=t(61250),p=(0,u.default)((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7642),t.e(3434),t.e(6455)]).then(t.bind(t,56455)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[56455]},modules:["../components/page/animation/comment/reaction-selector.tsx -> ./emoji"]}}),m=[{id:"+1"},{id:"heart"},{id:"joy"},{id:"open_mouth"},{id:"pensive"},{id:"angry"}],v=function(e){var n=e.emojiId,t=e.onClick,r=e.size,o=void 0===r?"18px":r,a=(0,s.useCallback)((function(){t(n)}),[t,n]);return(0,d.jsx)("button",{className:"flex items-center w-5 h-5 transform rounded-full hover:scale-110",type:"button","data-text":n,onClick:a,children:(0,d.jsx)(p,{id:n,size:o})})},x=(0,s.memo)(v),g=function(e){var n=e.commentId,t=e.hoverBackgroundClassName,r=e.hoverTextColorClassName,o=e.onSelect,a=(0,s.useCallback)((function(e){o(n,e,!1)}),[n,o]),c=(0,s.useCallback)((function(e){e.stopPropagation()}),[]),u=(0,s.useMemo)((function(){return(0,d.jsx)("ul",{className:"flex flex-row items-center",children:m.map((function(e){var n=e.id;return(0,d.jsx)("li",{className:"px-1",children:(0,d.jsx)(x,{emojiId:n,onClick:a})},"reaction-item-".concat(n))}))})}),[a]);return(0,d.jsx)("div",{onClick:c,children:(0,d.jsx)(f.J,{showArrow:!1,placement:"top-end",offsetY:-2,additionalCssClasses:"bg-white !rounded-full shadow !shadow-sm border !border-transparent px-3 py-2",content:u,children:(0,d.jsx)("div",{className:i()("p-1 rounded-full cursor-pointer",t,r),children:(0,d.jsx)(l.J,{name:"reaction",color:"text-gray-500"})})})})},h=s.memo(g)},43299:function(e,n,t){t.d(n,{_:function(){return s},q:function(){return l}});var r=t(77916),o=t(51848),a=(t(29901),t(61250)),c=["className","count","plural","showCount","singular","style","zero"];function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s=function(e){var n=e.count,t=e.plural,r=e.showCount,o=e.singular,a=e.zero;if(0===n&&a)return a;var c=o;return 1!==n&&(c=t||"".concat(o,"s")),r?"".concat(n," ").concat(c):c},l=function(e){var n=e.className,t=void 0===n?"":n,r=e.count,i=void 0===r?1:r,l=e.plural,f=e.showCount,d=void 0===f||f,p=e.singular,m=e.style,v=void 0===m?{}:m,x=e.zero,g=void 0===x?"":x,h=(0,o.Z)(e,c);return(0,a.jsx)("span",{className:t,style:v,children:s(u({count:i,plural:l,showCount:d,singular:p,zero:g},h))})}},35653:function(e,n,t){t.d(n,{J:function(){return f}});var r=t(77916),o=t(71108),a=t(29901),c=t(64483),i=t(88250),u=t(54525),s=t(61250);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var f=function(e){var n=e.additionalCssClasses,t=void 0===n?"p-4 w-80":n,f=e.children,d=e.closeRef,p=e.container,m=e.content,v=e.offsetX,x=void 0===v?0:v,g=e.offsetY,h=void 0===g?12:g,b=e.onClose,y=e.onOpen,j=e.placement,w=void 0===j?"top":j,O=e.show,C=void 0!==O&&O,k=e.showArrow,N=void 0===k||k,P=e.triggerElementRef,D=(0,a.useState)(null),E=D[0],_=D[1],F=(0,a.useRef)(null),S=(0,a.useState)(null),I=S[0],R=S[1],L=(0,c.D)(E,F.current,{modifiers:[{name:"arrow",options:{element:I}},{name:"offset",options:{offset:[x,h]}}],placement:w}),M=L.attributes,T=L.styles,A=(0,a.useState)(C),U=A[0],Z=A[1];(0,a.useEffect)((function(){P&&(P.current?_(P.current):_(P))}),[P]);var z=(0,a.useCallback)((function(){Z((function(e){return!e})),U&&b&&b(),!U&&y&&y()}),[b,y,U]);(0,a.useEffect)((function(){d&&(d.current=z)}),[z,d]),(0,i.Z)(F,z);var B=a.createElement("div",{ref:R,style:T.arrow,className:N?"popover-arrow":""}),q=a.createElement("div",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({ref:F,style:T.popper,className:"relative popover-container ".concat(t)},M.popper),B,m);return(0,s.jsxs)(s.Fragment,{children:[f&&a.cloneElement(f,{ref:_,onClick:z}),(0,s.jsx)(u.T,{container:p,children:(0,s.jsx)(o.uT,{show:U,enter:"transition duration-100 ease-out",enterFrom:"transform opacity-0",enterTo:"transform opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform opacity-100",leaveTo:"transform opacity-0",className:"relative z-50",children:q})})]})}},27467:function(e,n,t){t.d(n,{z:function(){return c}});t(29901);var r=t(96312),o=t(61250),a=function(e){var n=e.shortcutKey,t="sm"===e.size?"text-xs h-4 min-w-[1rem] px-0.5":"text-sm h-6 min-w-[1.5rem] px-1";return(0,o.jsx)("span",{className:"flex items-center justify-center bg-gray-500 text-white text-sm rounded-sm ".concat(t),children:n})},c=function(e){var n=e.keys,t=e.metaKey,c=e.separator,i=e.size,u=void 0===i?"sm":i,s=e.width,l=void 0===s?"":s,f=r.Mq?"⌘":"ctrl";return(0,o.jsxs)("div",{className:"flex flex-row items-center space-x-1 ".concat(l),children:[t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a,{shortcutKey:f,size:u}),c&&(0,o.jsx)("span",{className:"text-gray-900",children:"+"})]}),n.map((function(e,t){return(0,o.jsxs)("div",{children:[(0,o.jsx)(a,{shortcutKey:e,size:u}),c&&!(n.length-1===t)&&(0,o.jsx)("span",{className:"text-gray-900",children:"+"})]},e)}))]})}},61463:function(e,n,t){t.d(n,{b:function(){return v}});var r=t(29901),o=t(61100),a=t.n(o),c=t(43299),i=t(61250),u=3600,s=86400,l=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),0).getDate()},f=function(e){var n=e.getFullYear();return 0==(3&n)&&(n%100!=0||n%400==0)},d=function(e){var n=e.getMonth(),t=e.getDate(),r=[0,31,59,90,120,151,181,212,243,273,304,334][n]+t;return n>1&&f(e)&&(r+=r),r},p=function(e){var n=new Date;return f(new Date(e,n.getMonth(),n.getDate()))?366:365},m=function(e){var n=new Date,t=n.getTime()/1e3-e.getTime()/1e3;if(t<60)return{value:"Just now",next:60-t};if(t<u){var r=Math.round(t/60);return{value:"".concat(r," ").concat((0,c._)({count:r,singular:"minute"})," ago"),next:60-t%60}}if(t<s){var o=Math.round(t/u);return{value:"".concat(o," ").concat((0,c._)({count:o,singular:"hour"})," ago"),next:u-t%u}}var a=Math.round(t/s);if(a<n.getDate())return{value:"".concat(a," ").concat((0,c._)({count:a,singular:"day"})," ago"),next:s-t%s};if(a<l()+n.getDate())return{value:"Last month"};if(a<d(n)){var i=Math.round(a/l());return{value:"".concat(i," ").concat((0,c._)({count:i,singular:"month"})," ago")}}if(a<(f=new Date,p(f.getFullYear()-1)+d(n)))return{value:"Last year"};var f,m=Math.round(a/p(e.getFullYear()));return{value:"".concat(m," ").concat((0,c._)({count:m,singular:"year"})," ago")}},v=function(e){var n=e.date,t=(0,r.useState)(""),o=t[0],c=t[1],u=(0,r.useState)(""),s=u[0],l=u[1];return(0,r.useEffect)((function(){n instanceof Date&&c(m(n).value)}),[]),(0,r.useEffect)((function(){if(n instanceof Date){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return new(a())((function(t){var r;return function o(){var a=n(e),c=a.next,i=a.value;t.next(i),c?r=setTimeout(o,1e3*c):t.complete()}(),function(){void 0!==r&&clearTimeout(r)}}))}(n),t=e.subscribe({next:function(e){e!==o&&c(e)},error:function(e){l(e),c("")}});return function(){return t.unsubscribe()}}return function(){}}),[]),(0,i.jsx)(i.Fragment,{children:o||s})}},20343:function(e,n,t){t.d(n,{a:function(){return o}});var r=t(79321),o=function(e){var n=e.scopes,t=function(){return n.includes(r.GN.FULL_ACCESS)},o=function(){return t()||n.includes(r.GN.DOWNLOAD)};return{canView:function(){return t()||o()||n.includes(r.GN.VIEW)},canFullAccess:t,canDownload:o}}},30022:function(e,n,t){t.d(n,{w:function(){return m}});var r=t(77916),o=t(89303),a=t(29901),c=t(48321),i=t(40355),u=t(46255);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=t(46641);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(){var e,n,t=(0,c.a)().user,s=(e="panel",[(n=(0,u.useRouter)()).query[e],(0,a.useCallback)((function(t){var r=l({},n.query);r[e]=t,""===t&&delete r[e],n.push({query:l({},r)},void 0,{shallow:!0})}),[])]),d=(0,o.Z)(s,2),m=d[0],v=d[1],x=(0,i._)("animation_sidebar_panel_state",{}),g=(0,o.Z)(x,2)[1],h=(0,a.useCallback)((function(e){v(e===f.s.NONE?"":e)}),[]),b=(0,a.useMemo)((function(){if("string"==typeof m){var e=Object.values(f.s).find((function(e){return e===m}));if(e)return e}return f.s.NONE}),[m]);return(0,a.useEffect)((function(){null!=t&&t.id&&b!==f.s.NONE&&g((function(e){return e[t.id]===b?e:p(p({},e),{},(0,r.Z)({},t.id,b))}))}),[null==t?void 0:t.id,b]),[b,h]}},67779:function(e,n,t){t.d(n,{S:function(){return o}});var r=t(29901);function o(e){var n=e.onIntersecting,t=(0,r.useState)(null),o=t[0],a=t[1],c=(0,r.useCallback)((function(e){a(e)}),[]);return(0,r.useEffect)((function(){if(!o)return function(){};var e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&n()}))}));return e.observe(o),function(){null==e||e.disconnect()}}),[o,n]),c}},17519:function(e,n,t){t.d(n,{Y:function(){return o}});var r=t(29901),o=function(e){var n=e.executeOnInit,t=void 0!==n&&n,o=e.interval,a=void 0===o?12e5:o,c=e.pause,i=void 0!==c&&c,u=e.task;(0,r.useEffect)((function(){if(u&&!i){t&&u();var e=setInterval((function(){u()}),a);return function(){clearInterval(e)}}return function(){}}),[u,i,t,a])}},88250:function(e,n,t){var r=t(29901);n.Z=function(e,n){(0,r.useEffect)((function(){var t=function(t){var r=e.current;r&&!r.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}},82114:function(e,n,t){t.d(n,{J:function(){return f}});var r=t(55312),o=t(89303),a=t(24642),c=t.n(a),i=t(29901),u=t(389),s=t(17519),l=t(44799),f=function(e){var n=e.parentCommentId,t=(0,u.m8)(),a=(0,i.useState)(!1),f=a[0],d=a[1],p=(0,u.aM)({query:l.ki,variables:{id:n},pause:!n}),m=(0,o.Z)(p,1)[0],v=(0,i.useCallback)((0,r.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.query(l.ki,{id:n,first:(null===(r=m.data)||void 0===r?void 0:r.commentReplies.edges.length)||12},{requestPolicy:"cache-and-network"}).toPromise();case 4:case"end":return e.stop()}}),e)}))),[t,n]),x=(0,i.useCallback)((0,r.Z)(c().mark((function e(){var r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.data&&!m.fetching){e.next=2;break}return e.abrupt("return");case 2:if(null!==(r=m.data.commentReplies.pageInfo)&&void 0!==r&&r.hasNextPage){e.next=4;break}return e.abrupt("return");case 4:if(null!==(o=m.data.commentReplies.pageInfo)&&void 0!==o&&o.endCursor){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,t.query(l.ki,{id:n,after:m.data.commentReplies.pageInfo.endCursor}).toPromise();case 9:return e.prev=9,e.finish(9);case 11:case"end":return e.stop()}}),e,null,[[6,,9,11]])}))),[t,m.data,m.fetching,n]);return(0,i.useEffect)((function(){var e=function(){d(Boolean(document.hidden))};return document.addEventListener("visibilitychange",e,!1),function(){document.removeEventListener("visibilitychange",e,!1)}}),[]),(0,s.Y)({task:v,pause:!n||f}),(0,i.useMemo)((function(){var e,n;return{repliesQuery:m,onFetchMoreReplies:x,canFetchMoreReplies:Boolean(null===(e=m.data)||void 0===e||null===(n=e.commentReplies.pageInfo)||void 0===n?void 0:n.hasNextPage)}}),[m,m.data,x])}},58756:function(e,n,t){t.d(n,{kF:function(){return l},YC:function(){return s},GS:function(){return i},VY:function(){return c},sq:function(){return a},IS:function(){return o},vQ:function(){return u}});var r=t(24161),o=(0,r.atom)({key:"playerIsPlaying",default:!0}),a=(0,r.atom)({key:"playerDirection",default:1}),c=(0,r.atom)({key:"playerCurrentSegment",default:[]}),i=(0,r.atom)({key:"playerCurrentPlayType",default:"loop"}),u=(0,r.atom)({key:"playerIsUsingSegment",default:!1}),s=(0,r.atom)({key:"playerCurrSegmentId",default:""}),l=(0,r.atom)({key:"isPlayerPlayOnHover",default:!1})},46641:function(e,n,t){var r;t.d(n,{s:function(){return r}}),function(e){e.COLOR_PALETTES="color_palettes",e.COMMENTS="comments",e.DOWNLOAD="download",e.EMBED="embed",e.FILE_INFO="file_info",e.LOTTIE_MOCKUP="lottie_mockup",e.NONE="none",e.QRCODE="qrcode",e.SEGMENT_MOCKUP="segment_mockup",e.VERSIONS="versions"}(r||(r={}))},61566:function(e,n,t){var r,o,a,c;t.d(n,{TL:function(){return r},CX:function(){return o},ow:function(){return a},TY:function(){return c},Lt:function(){return i}}),function(e){e.Point="Point"}(r||(r={})),function(e){e.Annotation="Annotation",e.Keyframe="Keyframe"}(o||(o={})),function(e){e.User="UserMention"}(a||(a={})),function(e){e.FileVersion="FileVersion"}(c||(c={}));var i=function(e){return e.flatMap((function(e){var n,t;return null!==(n=null===(t=e.node.extra)||void 0===t?void 0:t.frame)&&void 0!==n?n:[]})).sort((function(e,n){return e-n})).filter((function(e,n,t){return n===t.length-1||t[n+1]!==e}))}},79321:function(e,n,t){var r,o,a,c,i,u,s;t.d(n,{GN:function(){return r},Nn:function(){return o},hF:function(){return a},eL:function(){return c},nT:function(){return u},ws:function(){return s},QR:function(){return f},xK:function(){return d},qR:function(){return p}}),function(e){e.DOWNLOAD="download",e.FULL_ACCESS="full_access",e.PUBLIC_DOWNLOAD="public_download",e.PUBLIC_VIEW="public_view",e.VIEW="view"}(r||(r={})),function(e){e.Loop="Loop",e.PlayOnce="PlayOnce"}(o||(o={})),function(e){e.DotLottie="lottie",e.Gif="gif",e.LottieJson="json",e.Mp4="mp4"}(a||(a={})),function(e){e.GIF="gif",e.MOV="mov",e.MP4="mp4",e.WEBM="webm"}(c||(c={})),function(e){e.DOWNLOAD="download",e.FULL_ACCESS="full_access",e.PUBLIC_DOWNLOAD="public_download",e.PUBLIC_VIEW="public_view",e.VIEW="view"}(i||(i={})),function(e){e.Approved="Approved",e.InProgress="InProgress",e.NeedsReview="NeedsReview",e.Shipped="Shipped"}(u||(u={})),function(e){e.Completed="Completed",e.Failed="Failed",e.InProgress="InProgress",e.Pending="Pending"}(s||(s={}));var l=function(e){return e.split(".").pop()};function f(e){if(!e.fileObject)return!1;var n=e.fileObject.filename,t=l(n);return void 0!==t&&["lottie","json"].includes(t)}function d(e){if(!e.fileObject)return!1;var n=e.fileObject.filename,t=l(n);return void 0!==t&&"creator"===t}function p(e){return e&&"Folder"===e.__typename}}}]);